<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - SHOPY</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>

  <!-- Firebase Configuration -->
  <script src="firebase-config.js"></script>

  <style>
    .admin-wrap {
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    }

    .admin-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }

    .admin-form label {
      display: block;
      font-weight: 600;
      margin: 10px 0 6px;
    }

    .admin-form input,
    .admin-form select,
    .admin-form textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .admin-form button {
      margin-top: 14px;
    }

    .admin-list table {
      width: 100%;
      border-collapse: collapse;
    }

    .admin-list th,
    .admin-list td {
      padding: 10px;
      border-bottom: 1px solid #eee;
      text-align: left;
    }

    .admin-list img {
      height: 60px;
      object-fit: contain;
    }

    .actions button {
      margin-right: 8px;
      padding: 6px 12px;
      font-size: 0.9rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .actions button:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .actions a {
      display: inline-block;
      padding: 6px 12px;
      font-size: 0.9rem;
      text-decoration: none;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    .actions a:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .image-upload-section {
      margin: 15px 0;
    }

    .image-input-wrapper {
      position: relative;
      display: inline-block;
    }

    .image-input-wrapper input[type="file"] {
      font-size: 14px;
      cursor: pointer;
    }

    #uploadStatus {
      display: block;
      margin-top: 8px;
      font-size: 14px;
      font-weight: 500;
    }

    .btn-edit {
      background: #ff6600;
      color: #fff;
    }

    .btn-delete {
      background: #dc3545;
      color: #fff;
    }

    .btn-view {
      background: #6c757d;
      color: #fff;
    }

    @media (max-width: 800px) {
      .admin-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <header>
    <nav class="navbar">
      <div class="logo"><a href="index.html" style="color:inherit;text-decoration:none;">SHOPY</a></div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="admin-dashboard.html" class="active">Admin Dashboard</a></li>
      </ul>
    </nav>
  </header>

  <main class="admin-wrap">
    <h2>Product Admin</h2>
    <div class="admin-grid">
      <section class="admin-form">
        <h3>Add / Update Product</h3>
        
        <form id="productForm">
          <input type="hidden" id="productId">
          
          <label for="productName">Name</label>
          <input type="text" id="productName" required>
          
          <label for="productPrice">Price (KES)</label>
          <input type="number" id="productPrice" min="0" required>
          
          <label for="productCategory">Category</label>
          <select id="productCategory" required>
            <option value="audio">Audio</option>
            <option value="phones">Phones</option>
            <option value="laptops">Laptops</option>
            <option value="gaming">Gaming</option>
            <option value="tv">TV</option>
            <option value="accessories">Accessories</option>
          </select>
          
          <div class="image-upload-section">
            <label for="imageFile">Product Image</label>
            <div class="image-input-wrapper">
              <input type="file" id="imageFile" accept="image/*">
            </div>
            <span id="uploadStatus">No image selected</span>
            <input type="hidden" id="imageUrl" value="">
            <div id="imagePreview" style="margin-top: 10px;"></div>
          </div>
          
          <label for="productDescription">Description</label>
          <textarea id="productDescription" rows="3" placeholder="Short marketing description"></textarea>
          
          <label for="productSpecs">Specs (one per line, key: value)</label>
          <textarea id="productSpecs" rows="5" placeholder="Battery: 5000mAh&#10;Weight: 180g&#10;Warranty: 1 year"></textarea>
          
          <button type="submit" class="btn">Save Product</button>
        </form>
      </section>

      <section class="admin-list">
        <h3>Products</h3>
        <table>
          <thead>
            <tr>
              <th>Image</th>
              <th>Name</th>
              <th>Price</th>
              <th>Category</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="productsTableBody"></tbody>
        </table>
      </section>
    </div>
  </main>

  <div id="toast-container" aria-live="polite"></div>
  
  <script src="admin-dashboard.js"></script>
</body>
</html>